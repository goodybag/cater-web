///////////
// Modal //
///////////

@import "./animations.less";

#modal {
    .init(
        @overlay-bg: rgba( 0, 0, 0, 0.5 ),
        @width: 600px,
        @z-index: 100000,
        @dialog-background: #fff,
        @offset-top: 30px
    ){
        .modal-open {
            overflow: hidden;
        }

        .modal-wrapper {
            z-index: @z-index;
            display: none;
            position: fixed;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            overflow: hidden;
            -webkit-overflow-scrolling: touch;
            outline: 0;

            .modal-open & {
                display: block;
            }
        }

        .modal-overlay {
            z-index: @z-index + 1;
            // display: none;
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            background: @overlay-bg;
        }

        .modal-open .modal-overlay {
            // display: block;
        }

        .modal {
            position: relative;
            z-index: @z-index + 2;
            margin: @offset-top auto;
            #modal > .setup-for-width( @width );
            background: @dialog-background;
        }

        #modal > .init-animations();
    }

    .setup-for-width( @width ){
        width: @width;

        @media screen and ( max-width: @width ) {
            width: auto;
            margin: 12px;
        }
    }
}
